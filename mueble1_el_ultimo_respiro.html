index.html:
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>MuebleÂ 1Â â€“Â ElÂ ÃšltimoÂ Respiro</title>
<style>
    :root { --transition: 0.4s ease; }
    *{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
    body{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#0e141b;color:#fff}
    #game{width:90%;max-width:900px;background:#1b2530;border-radius:10px;box-shadow:0 4px 18px rgba(0,0,0,.6);overflow:hidden;position:relative}
    header,footer{text-align:center;padding:15px;background:#111a22}
    footer{font-size:0.85rem}
    main{padding:25px;min-height:400px;position:relative;background-size:cover;background-position:center}
    .hidden{display:none}
    h1{margin-bottom:10px;font-size:1.5rem}
    h2{margin-bottom:10px;font-size:1.25rem}
    p{margin-bottom:8px;line-height:1.4}
    button{cursor:pointer;padding:10px 18px;border:none;border-radius:6px;font-weight:bold;color:#fff;background:#0e7e12;transition:background var(--transition)}
    button:hover{background:#11991a}
    #options button{display:block;width:100%;margin:6px 0;text-align:left;background:#243344;padding:12px}
    #options button:hover{background:#2d4155}
    #overlay{position:absolute;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;text-align:center;padding:20px}
    #overlay.hidden{display:none}
</style>
</head>
<body>
<div id="game">
  <header>
    <h1>MuebleÂ 1Â â€“Â ElÂ ÃšltimoÂ Respiro</h1>
  </header>
  <main id="scene">
    <!-- dynamic content -->
  </main>
  <footer>
    &copy;Â 2025Â ProyectoÂ EcoÂ Juego
  </footer>
</div>

<audio id="music" loop src="https://cdn.pixabay.com/download/audio/2022/11/03/audio_a67405a0d7.mp3?filename=gaming-background-music-1-114672.mp3"></audio>
<audio id="correct-sfx" src="https://cdn.pixabay.com/download/audio/2022/02/15/audio_1578ad3280.mp3?filename=notification-4-21470.mp3"></audio>
<audio id="wrong-sfx" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_5411511e84.mp3?filename=error-126627.mp3"></audio>

<script>
const bgImages=[
 "https://images.unsplash.com/photo-1454789548928-8ecded20ed93?fit=crop&w=1600&q=60",
 "https://images.unsplash.com/photo-1503264116251-35a269479413?fit=crop&w=1600&q=60",
 "https://images.unsplash.com/photo-1482192596544-9eb780fc7f66?fit=crop&w=1600&q=60",
 "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?fit=crop&w=1600&q=60",
 "https://images.unsplash.com/photo-1508182311256-3e0a948f2358?fit=crop&w=1600&q=60"
];

const levels=[
 {title:"NivelÂ 1Â â€“Â ElÂ AireÂ Irrespirable",
  intro:(name)=>`${name}, los hospitales estÃ¡n desbordados por enfermedades pulmonares y la visibilidad fuera es casi nula. Cada respuesta correcta reducirÃ¡ la contaminaciÃ³n un 3â€¯%.`,
  progress:["Â¡La contaminaciÃ³n ha bajado 3â€¯%!", "Â¡6â€¯%!", "Â¡9â€¯%!", "Â¡12â€¯%!", "Â¡15â€¯%! Los pacientes comienzan a recuperarse."],
  questions:[
   ["Â¿CuÃ¡l es el contaminante principal emitido por los autos?",
     [["MonÃ³xido de carbono",true],["OxÃ­geno",false],["Helio",false],["NitrÃ³geno",false]]],
   ["Las partÃ­culas PM2.5 puedenâ€¦",
     [["Entrar profundamente en tus pulmones",true],["Mejorar la respiraciÃ³n",false],["Ser inofensivas",false],["Curar alergias",false]]],
   ["Â¿QuÃ© tecnologÃ­a automotriz reduce emisiones?",
     [["Catalizador",true],["Turbo",false],["Aire acondicionado",false],["Llantas grandes",false]]],
   ["Â¿QuÃ© transporte NO contamina el aire directamente?",
     [["Bicicleta",true],["Motocicleta",false],["CamiÃ³n diÃ©sel",false],["AutomÃ³vil a gasolina",false]]],
   ["Â¿QuÃ© fenÃ³meno agrava la contaminaciÃ³n en ciudades?",
     [["InversiÃ³n tÃ©rmica",true],["Aurora boreal",false],["Lluvia ligera",false],["Niebla marina",false]]]
 ]},
 {title:"NivelÂ 2Â â€“Â LasÂ CiudadesÂ Invisibles",
  intro:(name)=>`${name}, la visibilidad es casi nula por la densa capa de esmog. Ayuda a despejar los cielos.`,
  progress:["Â¡Visibilidad +5â€¯%!", "+10â€¯%!", "+15â€¯%!", "+20â€¯%!", "Â¡25â€¯%! Ahora se distinguen los edificios."],
  questions:[
   ["Â¿QuÃ© gas forma el esmog fotoquÃ­mico junto con Ã³xidos de nitrÃ³geno?",
     [["Ozono troposfÃ©rico",true],["OxÃ­geno",false],["ArgÃ³n",false],["NeÃ³n",false]]],
   ["Las chimeneas industriales deben usarâ€¦",
     [["Filtros y depuradores",true],["Pintura nueva",false],["Luces LED",false],["Antenas",false]]],
   ["Â¿CuÃ¡l de estos mejora la calidad del aire urbano?",
     [["Ãreas verdes",true],["Concreto adicional",false],["Pavimento oscuro",false],["Cristales polarizados",false]]],
   ["Combustible mÃ¡s limpio para buses urbanos:",
     [["Gas natural comprimido (GNC)",true],["DiÃ©sel con azufre alto",false],["Keroseno",false],["CarbÃ³n",false]]],
   ["Norma que limita emisiones de vehÃ­culos:",
     [["EuroÂ VI",true],["ISOÂ 9001",false],["HDMI",false],["VPN",false]]]
 ]},
 {title:"NivelÂ 3Â â€“Â LaÂ FloraÂ QueÂ NoÂ Respira",
  intro:(name)=>`${name}, las plantas se marchitan y la cadena alimenticia peligra. Devuelve la vida a la vegetaciÃ³n.`,
  progress:["Â¡Las hojas vuelven a brotar!", "Â¡Se ven primeros brotes!", "Â¡Florecen campos!", "Â¡Bosques reverdecen!", "Â¡La fotosÃ­ntesis aumenta 20â€¯%!"],
  questions:[
   ["El diÃ³xido de azufre causaâ€¦",
     [["Lluvia Ã¡cida",true],["FotosÃ­ntesis acelerada",false],["Brillo solar extra",false],["Nada",false]]],
   ["Las plantas absorben COâ‚‚ y liberanâ€¦",
     [["OxÃ­geno",true],["Ozono",false],["Metano",false],["Plomo",false]]],
   ["Para reducir incendios forestales debemosâ€¦",
     [["Gestionar residuos orgÃ¡nicos",true],["AÃ±adir gasolina",false],["Secar bosques",false],["Cortar todo",false]]],
   ["Fertilizar en exceso puedeâ€¦",
     [["Liberar amonÃ­aco al aire",true],["Eliminar contaminaciÃ³n",false],["Crear nubes limpias",false],["Curar plantas",false]]],
   ["Â¿QuÃ© rol tienen las abejas?",
     [["Polinizar y sostener ecosistemas",true],["Crear smog",false],["Producir COâ‚‚",false],["Nada",false]]]
 ]},
 {title:"NivelÂ 4Â â€“Â ElÂ AguaÂ Ãcida",
  intro:(name)=>`${name}, la lluvia Ã¡cida devora monumentos y envenena rÃ­os. Purifica la atmÃ³sfera para restaurar el ciclo del agua.`,
  progress:["pH +0.3", "pH +0.6", "pH +0.9", "pH +1.2", "Â¡El agua vuelve a ser neutral!"],
  questions:[
   ["Principal precursor de lluvia Ã¡cida:",
     [["Ã“xidos de azufre",true],["Helio",false],["ProtÃ³n",false],["NeÃ³n",false]]],
   ["Los NOâ‚“ provienen deâ€¦",
     [["CombustiÃ³n a alta temperatura",true],["FotosÃ­ntesis",false],["EvaporaciÃ³n",false],["FusiÃ³n nuclear",false]]],
   ["Para disminuir NOâ‚“ en autos se usaâ€¦",
     [["RecirculaciÃ³n de gases (EGR)",true],["Reproductor de mÃºsica",false],["Navegador GPS",false],["Spoiler trasero",false]]],
   ["Las centrales elÃ©ctricas mÃ¡s limpias sonâ€¦",
     [["EÃ³licas y solares",true],["CarbÃ³n",false],["PetrÃ³leo",false],["DiÃ©sel",false]]],
   ["La lluvia Ã¡cida daÃ±a suelos porqueâ€¦",
     [["Disuelve nutrientes esenciales",true],["Les agrega vitaminas",false],["No los afecta",false],["Los enfrÃ­a",false]]]
 ]},
 {title:"NivelÂ 5Â â€“Â LaÂ AtmÃ³sferaÂ Quebrada",
  intro:(name)=>`${name}, los gases contaminantes han debilitado la atmÃ³sfera y el calor es insoportable. Â¡CiÃ©rrala de nuevo!`,
  progress:["Â¡Gases tÃ³xicos -5â€¯%!", "-10â€¯%!", "-15â€¯%!", "-20â€¯%!", "Â¡El escudo atmosfÃ©rico se repara!"],
  questions:[
   ["Gas de efecto invernadero mÃ¡s abundante:",
     [["DiÃ³xido de carbono",true],["Helio",false],["Vapor de mercurio",false],["KriptÃ³n",false]]],
   ["Los HFC se usan enâ€¦",
     [["Refrigerantes y aerosoles",true],["LÃ¡mparas incandescentes",false],["Bicicletas",false],["Zapatos",false]]],
   ["El Protocolo de Montreal controlaâ€¦",
     [["Sustancias que daÃ±an la capa de ozono",true],["Exportaciones de vino",false],["SatÃ©lites",false],["Velocidad de internet",false]]],
   ["EnergÃ­a que no emite COâ‚‚:",
     [["Solar fotovoltaica",true],["CarbÃ³n",false],["DiÃ©sel",false],["Gasolina",false]]],
   ["Sembrar 1Â millÃ³n de Ã¡rboles capturaâ€¦",
     [["Toneladas de COâ‚‚",true],["Ã“xidos de nitrÃ³geno",false],["Sodio",false],["Sal comÃºn",false]]]
 ]}
];

let playerName="", levelIndex=0, questionIndex=0;
const scene=document.getElementById("scene");
const overlay=document.createElement("div");overlay.id="overlay";overlay.classList.add("hidden");document.getElementById("game").appendChild(overlay);

const music=document.getElementById("music"), correctSfx=document.getElementById("correct-sfx"), wrongSfx=document.getElementById("wrong-sfx");
music.volume=0.25; correctSfx.volume=0.8; wrongSfx.volume=0.9;

start();

function start(){music.play().catch(()=>{}); askName();}

function askName(){
 scene.style.backgroundImage="url("+bgImages[0]+")";
 scene.innerHTML=`
  <h2>Bienvenido agente. Â¿CuÃ¡l es tu nombre?</h2>
  <input id="nameInput" style="padding:8px;width:60%;max-width:300px;border-radius:6px;border:none;margin:10px 0"/>
  <button onclick="saveName()">Comenzar Aventura</button>`;
}

function saveName(){
 const val=document.getElementById("nameInput").value.trim();
 if(!val){alert("Por favor ingresa tu nombre");return;}
 playerName=val;
 levelIndex=0; initLevel();
}

function initLevel(){
 questionIndex=0;
 scene.style.backgroundImage="url("+bgImages[levelIndex]+")";
 overlay.classList.remove("hidden");
 overlay.innerHTML=`<div><h2>${levels[levelIndex].title}</h2><p>${levels[levelIndex].intro(playerName)}</p>
   <button onclick="nextQuestion()">Iniciar Nivel</button></div>`;
}

function nextQuestion(){
 overlay.classList.add("hidden");
 showQuestion();
}

function showQuestion(){
 const level=levels[levelIndex];
 const [q,optArr]=level.questions[questionIndex];
 scene.innerHTML=`<h2>${level.title}</h2><p>${q}</p><div id="options"></div>`;
 const optionsDiv=document.getElementById("options");
 optArr.forEach(([txt,correct])=>{
  const btn=document.createElement("button");btn.textContent=txt;
  btn.onclick=()=>answer(correct);
  optionsDiv.appendChild(btn);
 });
}

function answer(correct){
 if(!correct){ wrong(); return;}
 correctSfx.currentTime=0; correctSfx.play();
 const level=levels[levelIndex];
 overlay.innerHTML=`<h2>${level.progress[questionIndex]}</h2>`;
 overlay.classList.remove("hidden");
 questionIndex++;
 if(questionIndex>=level.questions.length){
  // level complete
  setTimeout(()=>{
    overlay.innerHTML=`<h2>Â¡Felicidades ${playerName}! Has desbloqueado el Nivel ${levelIndex+2}</h2><button onclick="levelUp()">Continuar</button>`;
  },1000);
 }else{
  setTimeout(()=>{overlay.classList.add("hidden"); showQuestion();},1500);
 }
}

function wrong(){
 wrongSfx.currentTime=0; wrongSfx.play();
 overlay.innerHTML=`<h2>Has destruido el mundo.</h2><p>Debes reiniciar el nivel.</p><button onclick="initLevel()">Reintentar</button>`;
 overlay.classList.remove("hidden");
}

function levelUp(){
 overlay.classList.add("hidden");
 levelIndex++;
 if(levelIndex>=levels.length){ win(); }
 else initLevel();
}

function win(){
 music.pause();
 scene.style.backgroundImage="url('https://images.unsplash.com/photo-1496560739320-340e6312b4e6?fit=crop&w=1600&q=60')";
 scene.innerHTML=`<h2>Â¡VictoriaÂ Final, ${playerName}!</h2><p>Has salvado al planeta. ðŸŒŽðŸŒ±</p><button onclick="start()">Jugar de nuevo</button>`;
}
</script>
</body>
</html>
